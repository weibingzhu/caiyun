(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{HRFF:function(t,e,n){"use strict";n.r(e);var a=n("omC7"),l=n.n(a),r=n("bS4n"),o=n.n(r),u=function(){return n.e(21).then(n.bind(null,"3qhV"))},s=window.$mixins.popupManager.$("create",u),i=window.$mixins.popupManager.$("update",u),p={mixins:[window.$mixins.pageList,window.$mixins.popupManager],components:{CreateFormPopup:s,UpdateFormPopup:i},data:function(){return{query:this.getQuery(o()({type:"1",title:"",key_word:""},this.$route.query)),pageData:{count:0,data:[]}}},methods:{fetch:function(t){var e=this,n=JSON.parse(l()(t));return this.$axios({url:"/v1/article",params:n}).then(function(t){e.pageData=t})},handleUpdate:function(t){this.pushOpen("update",t.article_id)},handleDelete:function(t,e){var n=this;this.$confirm("确认删除此文章","提示",{type:"warning"}).then(function(){return n.$axios({url:"/v1/article/"+t.article_id,method:"DELETE",options:{context:e.target}}).then(function(){n.fetch(n.query)})})}}},c=n("VRG8"),d=Object(c.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("create-form-popup",{attrs:{title:"创建"}}),t._v(" "),n("update-form-popup",{attrs:{title:"编辑"}}),t._v(" "),n("e-page-list-layout",[n("template",{slot:"search"},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleTab},model:{value:t.query.type,callback:function(e){t.$set(t.query,"type",e)},expression:"query.type"}},[n("el-tab-pane",{attrs:{label:"全部",name:"1"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"已读",name:"2"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"未读",name:"0"}})],1),t._v(" "),n("el-form",t._b({attrs:{slot:"search"},nativeOn:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}},slot:"search"},"el-form",t.getFormProps(),!1),[n("el-button",{attrs:{"native-type":"submit",size:"small"}},[t._v("批量删除")]),t._v(" "),n("el-button",{attrs:{size:"small"},on:{click:function(e){return t.pushOpen("create")}}},[t._v("全部标记为已读")])],1)],1),t._v(" "),n("el-table",t._g(t._b({attrs:{slot:"table",data:[{},{},{},{},{},{},{},{},{}]},slot:"table"},"el-table",t.getTableProps(),!1),t.getTableListeners()),[n("el-table-column",{attrs:{type:"selection",width:"58"}}),t._v(" "),n("el-table-column",{attrs:{label:"消息类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          报修通知\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"标题内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          C座2层302室提交了报修申请\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          2020-02-24 17:09:21\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状 态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.$index<3?n("e-danger",[t._v("未读")]):[t._v("\n            已读\n          ")]]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleUpdate(e.row,n)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.push({path:"/user/detail"})}}},[t._v("详情")])]}}])})],1)],2)],1)},[],!1,null,null,null);e.default=d.exports}}]);