(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"64Cj":function(e,t,r){},"6RW3":function(e,t,r){"use strict";var o=r("bq6y");r.n(o).a},DP8S:function(e,t,r){e.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=64)}({0:function(e,t,r){"use strict";function o(e,t,r,o,n,s,i,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):n&&(l=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:c}}r.d(t,"a",function(){return o})},1:function(e,t){e.exports=r("bS4n")},2:function(e,t){e.exports=r("6ZY3")},4:function(e,t){e.exports=r("omC7")},64:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"e-signin"},[r("el-form",{ref:"form",attrs:{model:e.form},nativeOn:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e.$slots.title?e._t("title"):r("legend",[e._v(e._s(e.title))]),e._t("prepend",null,null,{form:e.form}),r("el-form-item",{attrs:{prop:"account",rules:[{required:!0,message:e.placeholder}]}},[r("el-input",e._b({attrs:{placeholder:e.placeholder},on:{change:e.handleChange},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account","string"==typeof t?t.trim():t)},expression:"form.account"}},"el-input",e.accountProps,!1),[1==e.accountType.length&&e.accountType.indexOf("email")>-1?r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")]):1==e.accountType.length&&e.accountType.indexOf("mobile")>-1?r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")]):r("e-icon",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[e._v("")])],1)],1),e.passwordProps?r("el-form-item",{attrs:{prop:"password",rules:[{required:!0,message:e.passwordProps.placeholder}]}},[r("e-password",e._b({on:{change:e.handleChange},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"==typeof t?t.trim():t)},expression:"form.password"}},"e-password",e.passwordProps,!1))],1):e._e(),e.smsCodeProps?r("el-form-item",{attrs:{prop:"smsCode",rules:[{required:!0,message:e.smsCodeProps.placeholder}]}},[r("e-sms-code",e._b({attrs:{to:e.form.account},model:{value:e.form.smsCode,callback:function(t){e.$set(e.form,"smsCode","string"==typeof t?t.trim():t)},expression:"form.smsCode"}},"e-sms-code",e.smsCodeProps,!1))],1):e._e(),e.codeProps?r("el-form-item",{attrs:{prop:"code",rules:[{required:!0,message:e.codeProps.placeholder}]}},[r("e-img-code",e._b({ref:"imgCode",model:{value:e.form.code,callback:function(t){e.$set(e.form,"code","string"==typeof t?t.trim():t)},expression:"form.code"}},"e-img-code",e.codeProps,!1))],1):e._e(),e.errorMessage?r("div",{staticClass:"el-form-item__error e-signin-error"},[r("el-alert",{attrs:{title:e.errorMessage,type:"error","show-icon":""}})],1):e._e(),e.$slots.argument?r("el-form-item",{staticClass:"is-argument",attrs:{prop:"argument"}},[r("el-checkbox",{model:{value:e.form.argument,callback:function(t){e.$set(e.form,"argument",t)},expression:"form.argument"}},[r("small",[e._v(e._s(e.accpetText))])]),e._t("argument")],2):e._e(),e._t("append",null,null,{form:e.form}),r("el-button",{attrs:{type:"primary",disabled:!e.form.argument,loading:e.loading,"native-type":"submit"}},[e._v(e._s(e.submitText))])],2),e.$slots.links?r("div",{staticClass:"e-signin-links"},[e._t("links")],2):e._e()],1)};o._withStripped=!0;var n=r(4),s=r.n(n),i=r(1),a=r.n(i),l={mixins:[r(7).default],props:{title:{type:String,default:"用户登录"},accountType:{type:Array,default:function(){return["mobile","email"]}},accountProps:{type:Object},passwordProps:{type:Object,default:function(){return{placeholder:"请输入密码"}}},codeProps:{type:Object,default:function(){return{placeholder:"请输入验证码"}}},smsCodeProps:{type:Object},submitText:{type:String,default:"立即登录"},action:{type:String},customForm:{type:Object},onSubmit:{type:Function},accpetText:{type:String,default:"我已阅读并接受"}},data:function(){return{loading:!1,errorMessage:"",form:a()({},this.customForm,{account:"",password:"",code:"",smsCode:"",argument:!0})}},computed:{placeholder:function(){if(this.accountProps&&this.accountProps.placeholder)return this.accountProps.placeholder;var e={mobile:"手机号",email:"邮箱"};return"请输入"+this.accountType.map(function(t){return e[t]}).join("/")}},methods:{handleChange:function(){this.errorMessage=""},submit:function(){var e=this;this.action?(this.loading=!0,this.$axios({url:this.action,method:"POST",data:JSON.parse(s()(this.form))}).then(function(t){e.loading=!1,e.$emit("success",t)}).catch(function(t){e.loading=!1,e.$emit("error",t),e.errorMessage=t.msg,e.$refs.imgCode&&e.$refs.imgCode.refresh()})):this.onSubmit?(this.loading=!0,this.onSubmit(JSON.parse(s()(this.form)),this).then(function(t){e.loading=!1,e.$emit("success",t)}).catch(function(t){e.loading=!1,e.$emit("error",t),e.errorMessage=t.msg,e.$refs.imgCode&&e.$refs.imgCode.refresh()})):this.$emit("success")}}},c=r(0),u=Object(c.a)(l,o,[],!1,null,null,null);u.options.__file="src/components/signin/index.vue";t.default=u.exports},7:function(e,t,r){"use strict";r.r(t);var o=r(4),n=r.n(o),s=r(2),i=r.n(s),a={email:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,mobile:/^1[3|4|5|6|7|8|9][0-9]{9}$/,phone:/^0\d{2,3}-?\d{7,8}$/,password:/^[A-Za-z0-9]{8,20}$/,gt0:/^(0*[1-9][0-9]*(\.[0-9]+)?|0+\.[0-9]*[1-9][0-9]*)$/,money:/^[0-9]+(\.[0-9]{1,2})?$/,ID:/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/},l={pattern:a,rule:{email:{pattern:a.email,message:"邮箱格式不正确"},phone:{pattern:a.phone,message:"电话号码格式不正确"},mobile:{pattern:a.mobile,message:"手机号码格式不正确"},gt0:{pattern:a.gt0,message:"请输入大于0的数字"},money:{pattern:a.money,message:"请输入有效的金额数字"},ID:{pattern:a.ID,message:"请输入有效的身份证号码"},password:{pattern:a.password,message:"密码格式不正确"}}};t.default={data:function(){return{loading:!1,validator:l}},methods:{getFormProps:function(e){return i()({ref:"form",model:this.form,labelWidth:"6.66rem",novalidate:"novalidate",class:"form-default",size:"small"},e)},validate:function(e){var t=this;this.$refs.form&&this.$refs.form.validate&&this.$refs.form.validate(function(r){if(!r)return t.validateFail(),!1;e?e():t.beforeSubmit&&t.beforeSubmit()})},beforeSubmit:function(){var e=this;if(this.promiseSubmit){var t=this.promiseSubmit(JSON.parse(n()(this.form)));t&&t.then&&(this.loading=!0,t.then(function(){e.loading=!1,e.afterSubmit&&e.afterSubmit()}).catch(function(){e.loading=!1}))}else if(this.submit){var r=this.submit();r&&r.then&&(this.loading=!0,r.then(function(){e.loading=!1,e.afterSubmit&&e.afterSubmit()}).catch(function(){e.loading=!1}))}},validateFail:function(){var e=this;this.$nextTick(function(){var t=e.$el.querySelector(".is-error");if(t){if(t.scrollIntoView)t.getBoundingClientRect().top<0&&t.scrollIntoView(!0);var r=t.querySelectorAll("input,textarea");r&&1===r.length&&r[0].focus()}})},submit:function(){},handleSubmit:function(){this.validate()},handleReset:function(){this.resetForm()},resetForm:function(){this.$refs.form&&this.$refs.form.resetFields()},handleDateRangeInput:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["start_time","end_time"];e&&e[0]?(this.form[r[0]]=e[0],this.form[r[1]]=e[1]):r.forEach(function(e){t.form[e]=null})}}}}})},bq6y:function(e,t,r){},rJ58:function(e,t,r){"use strict";r.r(t);r("64Cj");var o=r("DP8S"),n={components:{ESignin:r.n(o).a},methods:{handleSuccess:function(e){this.$store.commit("USRE",e.data),e.data&&localStorage.setItem("token",e.data.token),this.$router.push({path:"/"})}}},s=(r("6RW3"),r("VRG8")),i=Object(s.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-header",{attrs:{height:"68px"}},[r("el-row",{staticClass:"wrapper",attrs:{align:"middle",type:"flex"}},[r("img",{attrs:{src:"/static/images/logo.png"}}),e._v(" "),r("el-col",[r("em",[e._v("乐捷家后台管理")]),e._v(" "),r("div",{staticClass:"assist"},[e._v("\n          Le Jie Jia Management\n        ")])])],1)],1),e._v(" "),r("el-main",[r("el-row",{staticClass:"wrapper",attrs:{align:"middle",type:"flex"}},[r("el-col"),e._v(" "),r("e-signin",{attrs:{title:"乐捷家后台管理",accountProps:{placeholder:"请输入账号"},"code-props":null,"accpet-text":"服务协议",action:"/v1/user/login"},on:{success:e.handleSuccess}})],1)],1),e._v(" "),r("el-footer",[e._v("\n   ©copyright 2005-2019 乐捷家 版权所有 ICP证: "),r("a",{attrs:{_href:"http://www.beian.miit.gov.cn",target:"_blank"}},[e._v("粤ICP备19113162号")])])],1)},[],!1,null,"fd17eda6",null);t.default=i.exports}}]);